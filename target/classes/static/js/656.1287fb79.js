"use strict";(self["webpackChunkyy2"]=self["webpackChunkyy2"]||[]).push([[656],{8278:function(e,t,o){o.r(t),o.d(t,{default:function(){return ke}});var a=o(8521),l=(o(3300),o(2771)),s=(o(2824),o(5601)),n=(o(8001),o(6018)),i=(o(9722),o(8515)),c=(o(1588),o(6907)),r=(o(4746),o(5865)),d=(o(9246),o(8480)),u=(o(5590),o(294)),m=(o(6870),o(3579)),h=(o(492),o(7441)),p=(o(9846),o(157)),w=(o(1897),o(2876)),k=(o(2278),o(1116)),g=(o(8825),o(1206)),f=(o(103),o(6233)),v=(o(9840),o(6252)),_=o(3577);const b={class:"content_task"},x={class:"task"},C=["src"],y=(0,v._)("br",null,null,-1),W=(0,v._)("br",null,null,-1),U=(0,v._)("br",null,null,-1),I=(0,v._)("br",null,null,-1),T={style:{transform:"translate(0px, 2px)"}},F={action:"/"},L=(0,v._)("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0,user-scalable=no"},null,-1),H={key:0},D={style:{transform:"translate(0px, -10px)"}},z={key:1},N={style:{transform:"translate(6px, -3px)"}},q={style:{"margin-top":"12px","margin-bottom":"12px",position:"relative",overflow:"hidden",cursor:"grab","background-color":"#fff","box-shadow":"0px 0px 5px rgba(0, 0, 0, 0.025)","border-radius":"10px",width:"96%",transform:"translateX(2%)"}},Z={style:{transform:"translate(-3px, 4px)","font-size":"14px"}},Y={key:0,style:{transform:"translate(calc(96vw - 79.5px), -11.9px)",opacity:"0.35"}},S={style:{transform:"translate(7px, 3px)"}},$={style:{"margin-left":"10px"}},j={style:{transform:"translateX(6px)","margin-top":"20px","margin-bottom":"15px"}},B={style:{"margin-top":"12px","margin-bottom":"12px",position:"relative",overflow:"hidden",cursor:"grab","background-color":"#fff","box-shadow":"0px 0px 5px rgba(0, 0, 0, 0.025)","border-radius":"10px",width:"96%",transform:"translateX(2%)"}},V={style:{transform:"translate(-3px, 4px)","font-size":"14px"}},E={key:0,style:{transform:"translate(calc(96vw - 79.5px), -11.9px)",opacity:"0.35"}},P={style:{transform:"translateY(3px)"}},K={style:{transform:"translate(7px, 3px)"}},M={style:{"margin-left":"10px"}},X=(0,v._)("br",null,null,-1),A={style:{display:"flex","justify-content":"center","align-items":"center"}},Q={class:"circle-wrapper"},J=["src"],O=(0,v._)("link",{rel:"stylesheet",href:"https://fonts.googleapis.com/css?family=Ma+Shan+Zheng"},null,-1);function R(e,t,o,R,G,ee){const te=f.j,oe=g.oF,ae=k.gb,le=w.Vq,se=p.ol,ne=h.e$,ie=m.HY,ce=u.JO,re=d.Ee,de=r.Vp,ue=c.zx,me=i.Zb,he=n.Q1,pe=s.kF,we=l.QP,ke=a.Er;return(0,v.wg)(),(0,v.iD)(v.HY,null,[(0,v._)("div",b,[(0,v._)("div",x,[(0,v.Wm)(oe,{autoplay:3e3,"indicator-color":"#F19290","lazy-render":""},{default:(0,v.w5)((()=>[((0,v.wg)(!0),(0,v.iD)(v.HY,null,(0,v.Ko)(R.images,(e=>((0,v.wg)(),(0,v.j4)(te,{key:e},{default:(0,v.w5)((()=>[(0,v._)("img",{src:e,style:{width:"100%",height:"62.5vw"}},null,8,C)])),_:2},1024)))),128))])),_:1}),(0,v.Wm)(le,{show:R.show_6,"onUpdate:show":t[0]||(t[0]=e=>R.show_6=e),"show-cancel-button":!1,"show-confirm-button":!1,width:"50vw"},{default:(0,v.w5)((()=>[y,W,(0,v.Wm)(ae,{size:"10vw",vertical:"","text-size":"4vw",color:"#f19290"},{default:(0,v.w5)((()=>[(0,v.Uk)("🚀拼命加载中...")])),_:1}),U,I])),_:1},8,["show"]),(0,v._)("div",T,[(0,v._)("form",F,[L,(0,v.Wm)(se,{modelValue:R.value,"onUpdate:modelValue":t[1]||(t[1]=e=>R.value=e),shape:"round",background:"rgb(250 250 250 / 22%)",placeholder:"请输入搜索任务关键词",onSearch:R.onSearch},null,8,["modelValue","onSearch"])])]),(0,v.Wm)(ne,{offset:R.offset_task,"onUpdate:offset":t[2]||(t[2]=e=>R.offset_task=e),axis:"xy",icon:"add-o",onClick:R.onClick},null,8,["offset","onClick"]),0===R.productList_0.length&&0===R.productList_1.length?((0,v.wg)(),(0,v.iD)("div",H,[(0,v._)("div",D,[(0,v.Wm)(ie,{"image-size":"17rem",description:"😭暂无找到该商品，快去创建一个吧！"})])])):(0,v.kq)("",!0),R.productList_0.length>0||R.productList_1.length>0?((0,v.wg)(),(0,v.iD)("div",z,[(0,v._)("div",N,[(0,v._)("h1",null,[(0,v.Uk)(" 💪 未完成 "),(0,v.Wm)(ce,{name:"coupon-o",badge:R.productList_0.length.toString(),"badge-props":{color:"#ee575e"}},null,8,["badge"])])]),((0,v.wg)(!0),(0,v.iD)(v.HY,null,(0,v.Ko)(R.productList_0,((e,o)=>((0,v.wg)(),(0,v.iD)("div",{key:o},[(0,v._)("div",q,[(0,v.Wm)(he,null,{right:(0,v.w5)((()=>[(0,v._)("div",$,[(0,v.Wm)(ue,{square:"",icon:"passed",color:"#8EB982",class:"button_task",onClick:t=>R.completedItem(e.taskId,o,e)},null,8,["onClick"]),(0,v.Wm)(ue,{square:"",icon:"phone-circle-o",color:"#FBC2EB",class:"button_task",onClick:t=>R.remindItem(e)},null,8,["onClick"]),(0,v.Wm)(ue,{square:"",icon:"star-o",color:"#FFE1B2",class:"button_task",onClick:t=>R.loveItem(e)},null,8,["onClick"]),(0,v.Wm)(ue,{square:"",icon:"delete-o",color:"#F19290",class:"button_task",onClick:t=>R.deleteItem(e.taskId,o,e)},null,8,["onClick"])])])),default:(0,v.w5)((()=>[(0,v.Wm)(me,{price:R.formatNumber(e.taskCredit),desc:R.truncateText(e),title:e.taskName,thumb:e.userImage,currency:"💰",onClickThumb:t=>R.disPlay(e.taskId)},{price:(0,v.w5)((()=>[(0,v._)("div",Z," 💰"+(0,_.zw)(R.formatNumber(e.taskCredit)),1)])),tag:(0,v.w5)((()=>[e.checkLove%2==1?((0,v.wg)(),(0,v.iD)("div",Y,[(0,v.Wm)(re,{src:R.imageUrl1,width:"65",height:"65",class:"image-slider"},null,8,["src"])])):(0,v.kq)("",!0)])),tags:(0,v.w5)((()=>[(0,v.Wm)(de,{plain:"",color:"#F19290"},{default:(0,v.w5)((()=>[(0,v.Uk)((0,_.zw)(R.formatDate(e.updateTime)),1)])),_:2},1024),(0,v.Wm)(de,{plain:"",color:"#F19290"},{default:(0,v.w5)((()=>[(0,v.Uk)((0,_.zw)(e.useName),1)])),_:2},1024),(0,v.Wm)(de,{plain:"",color:"#F19290"},{default:(0,v.w5)((()=>[(0,v.Uk)("执行")])),_:1})])),num:(0,v.w5)((()=>[(0,v._)("div",S,[(0,v.Wm)(ue,{class:"mini",size:"mini",onClick:t[3]||(t[3]=e=>R.goodItem())},{default:(0,v.w5)((()=>[(0,v.Uk)("👑")])),_:1})])])),_:2},1032,["price","desc","title","thumb","onClickThumb"])])),_:2},1024)])])))),128)),(0,v._)("div",j,[(0,v._)("h1",null,[(0,v.Uk)(" 🥰 完成 "),(0,v.Wm)(ce,{name:"coupon-o",badge:R.productList_1.length.toString(),"badge-props":{color:"#ee575e"}},null,8,["badge"])])]),((0,v.wg)(!0),(0,v.iD)(v.HY,null,(0,v.Ko)(R.productList_1,((e,o)=>((0,v.wg)(),(0,v.iD)("div",{key:o},[(0,v._)("div",B,[(0,v.Wm)(he,null,{right:(0,v.w5)((()=>[(0,v._)("div",M,[(0,v.Wm)(ue,{square:"",icon:"star-o",color:"#FFE1B2",class:"button_task",onClick:t=>R.loveItem(e)},null,8,["onClick"]),(0,v.Wm)(ue,{square:"",icon:"delete-o",color:"#F19290",class:"button_task",onClick:t=>R.deleteItem(e.taskId,o,e)},null,8,["onClick"])])])),default:(0,v.w5)((()=>[(0,v.Wm)(me,{price:R.formatNumber(e.taskCredit),currency:"💰",desc:R.truncateText(e),title:e.taskName,thumb:e.userImage,onClickThumb:t=>R.disPlay(e.taskId)},{price:(0,v.w5)((()=>[(0,v._)("div",V," 💰"+(0,_.zw)(R.formatNumber(e.taskCredit)),1)])),tag:(0,v.w5)((()=>[e.checkLove%2==1?((0,v.wg)(),(0,v.iD)("div",E,[(0,v.Wm)(re,{src:R.imageUrl1,width:"65",height:"65",class:"image-slider"},null,8,["src"])])):(0,v.kq)("",!0)])),tags:(0,v.w5)((()=>[(0,v._)("div",P,[(0,v.Wm)(de,{plain:"",color:"#F19290"},{default:(0,v.w5)((()=>[(0,v.Uk)((0,_.zw)(R.formatDate(e.updateTime)),1)])),_:2},1024),(0,v.Wm)(de,{plain:"",color:"#F19290"},{default:(0,v.w5)((()=>[(0,v.Uk)((0,_.zw)(e.useName),1)])),_:2},1024),(0,v.Wm)(de,{plain:"",color:"#F19290"},{default:(0,v.w5)((()=>[(0,v.Uk)("执行")])),_:1})])])),num:(0,v.w5)((()=>[(0,v._)("div",K,[(0,v.Wm)(ue,{class:"mini",size:"mini",onClick:t[4]||(t[4]=e=>R.goodItem())},{default:(0,v.w5)((()=>[(0,v.Uk)("🌈")])),_:1})])])),_:2},1032,["price","desc","title","thumb","onClickThumb"])])),_:2},1024)])])))),128)),X,(0,v.Wm)(le,{show:R.show_1,"onUpdate:show":t[5]||(t[5]=e=>R.show_1=e),onConfirm:R.handleConfirm,onCancel:R.handleCancel,title:"🥰 温馨提示",message:"🦄您确定要删除这个任务吗，删除之后就找不到咯，请您要仔细认真考虑哦！","show-cancel-button":""},null,8,["show","onConfirm","onCancel"]),(0,v.Wm)(le,{show:R.show_2,"onUpdate:show":t[6]||(t[6]=e=>R.show_2=e),onConfirm:R.checkConfirm,onCancel:R.checkCancel,title:"🥰 温馨提示",message:"🦄您确定您的小可爱完成了这个任务了吗？","show-cancel-button":""},null,8,["show","onConfirm","onCancel"]),(0,v.Wm)(pe,{right:"83vw",bottom:"10vh"})])):(0,v.kq)("",!0),(0,v.Wm)(le,{show:R.show_3,"onUpdate:show":t[7]||(t[7]=e=>R.show_3=e),"close-on-click-overlay":!0,"show-cancel-button":!1,"show-confirm-button":!1,width:R.picturewidth},{default:(0,v.w5)((()=>[(0,v._)("div",A,[(0,v.Wm)(re,{width:"100vw",height:"100vw",position:"center",fit:"cover",src:R.image},null,8,["src"])])])),_:1},8,["show","width"]),(0,v.Wm)(le,{show:R.show_4,"onUpdate:show":t[8]||(t[8]=e=>R.show_4=e),title:"🥰 温馨提示",message:"😂您不能删除别人创建的任务哦，快去完成自己的任务吧！"},null,8,["show"]),(0,v.Wm)(le,{show:R.show_5,"onUpdate:show":t[9]||(t[9]=e=>R.show_5=e),title:"🥰 温馨提示",message:"😂您不能完成别人创建的任务哦，快去完成自己的任务吧！"},null,8,["show"])]),(0,v.Wm)(ke,{modelValue:R.active,"onUpdate:modelValue":t[10]||(t[10]=e=>R.active=e),"active-color":"#F19290"},{default:(0,v.w5)((()=>[(0,v.Wm)(we,{replace:"",to:"/Task",icon:"coupon-o"},{default:(0,v.w5)((()=>[(0,v.Uk)("任务")])),_:1}),(0,v.Wm)(we,{replace:"",to:"/Produce",icon:"shop-collect-o"},{default:(0,v.w5)((()=>[(0,v.Uk)("商城")])),_:1}),(0,v._)("div",Q,[(0,v.Wm)(we,{replace:"",to:"/"},{icon:(0,v.w5)((e=>[(0,v._)("img",{class:"homeIcon",src:e.active?R.icon.active:R.icon.inactive},null,8,J)])),_:1})]),(0,v.Wm)(we,{replace:"",to:"/Room",icon:"cart-o"},{default:(0,v.w5)((()=>[(0,v.Uk)("仓库")])),_:1}),(0,v.Wm)(we,{replace:"",to:"/User",icon:"user-o"},{default:(0,v.w5)((()=>[(0,v.Uk)("我的")])),_:1})])),_:1},8,["modelValue"])]),(0,v.Wm)(le,{show:R.show_7,"onUpdate:show":t[11]||(t[11]=e=>R.show_7=e),title:"🥰提示",message:R.message,width:"70vw",height:"30vw","close-on-click-overlay":!0,"show-cancel-button":!1,"show-confirm-button":!1},null,8,["show","message"]),O],64)}var G=o(381),ee=o.n(G),te=o(2262),oe=o(2119),ae=o(6154),le=o(6245),se=o.p+"img/2.76e1f5da.webp",ne=o.p+"img/task1.e6e1a2bf.jpg",ie=o.p+"img/task2.e8f451da.jpg",ce=o.p+"img/task3.326b96c6.jpg",re=o(2914),de=o(3833),ue=o.p+"img/home1.97994e42.jpg",me=o.p+"img/Star.2778d951.png",he={setup(){const e={active:re,inactive:de},t=[me],o=[ue],a=[se],l=(0,te.iH)();l.value=.8*window.innerWidth;const s=(0,te.iH)(!1),n=(0,te.iH)(!1),i=(0,te.iH)(!1),c=(0,te.iH)(!1),r=(0,te.iH)(!1),d=(0,te.iH)(0),u=(0,oe.tv)(),m=(0,te.iH)(!0),h=(0,te.iH)(!1),p=(0,te.iH)(""),w=[ne,ie,ce];var k=.74*window.innerHeight,g=.75*window.innerWidth;const f=(0,te.iH)({x:g,y:k}),_=()=>{u.replace("/TaskAdd/1")},b=e=>{u.replace(`/TaskDisplay/${e}`)},x=(0,te.iH)([]),C=(0,te.iH)([]),y=(0,te.iH)(""),W=y.value,U=e=>{m.value=!0,H(e),D(e)};(0,v.bv)((()=>{L(),U(W)}));const I=localStorage.getItem("jwtToken");I||u.replace("/login");const T={Authorization:`Bearer ${I}`};let F="";const L=()=>{ae.Z.post("/api/loginToken?token="+I).then((e=>{if(0==e.data.code)return console.error(e.data.data),void u.replace("/login");console.log(e.data.data);const t=(0,le.Z)(I);F=t.id})).catch((e=>{console.error("请求loginToken接口失败",e),u.replace("/login")}))},H=e=>{console.log("Before fetching data. productList_0:",x.value),ae.Z.get(`/api/selectCheckTask?id=0&taskName=${e}`,{headers:T}).then((e=>{x.value=e.data.data,console.log("Data fetched successfully. productList_0:",x.value),m.value=!1})).catch((e=>{console.error("Failed to fetch data:",e)}))},D=e=>{console.log("Before fetching data. productList_1:",C.value),ae.Z.get(`/api/selectCheckTask?id=1&taskName=${e}`,{headers:T}).then((e=>{C.value=e.data.data,console.log("Data fetched successfully. productList_1:",C.value),m.value=!1})).catch((e=>{console.error("Failed to fetch data:",e)}))};let z="",N="",q="";const Z=(e,t,o)=>{F==o.founderId?(z=e,N=t,q=o.checkTask,s.value=!0):c.value=!0},Y=()=>{j(z,N,q)},S=()=>{},$=(0,te.iH)(""),j=(e,t,o)=>{ae.Z.delete(`/api/tasks?id=${e}`,{headers:T}).then((e=>{0==o?x.value.splice(t,1):1==o&&C.value.splice(t,1),console.log("数据删除成功",e),p.value="任务删除成功！"})).catch((e=>{console.error("数据删除失败",e),p.value="任务删除失败！"})),h.value=!0,setTimeout((()=>{h.value=!1}),1e3)},B=(e,t,o)=>{F==o.founderId?(z=e,N=t,n.value=!0):r.value=!0},V=()=>{P(z,N)},E=()=>{},P=(e,t)=>{ae.Z.put(`/api/tasks?id=${e}`,null,{headers:T}).then((o=>{console.log("数据完成成功",o);const a=x.value[t],l={userImage:a.userImage,taskCredit:a.taskCredit,taskText:a.taskText,taskName:a.taskName,useName:a.useName,checkTask:"true",checkLove:a.checkLove,taskId:e,updateTime:new Date};x.value.splice(t,1),C.value.unshift(l),p.value="您的小可爱任务完成成功！"})).catch((e=>{console.error("数据完成失败",e),p.value="您的小可爱任务完成失败！"})),h.value=!0,setTimeout((()=>{h.value=!1}),1e3)},K=()=>{i.value=!0},M=e=>{ae.Z.get(`/api/updateLoveTask?id=${e.taskId}`,{headers:T}).then((t=>{e.checkLove=!e.checkLove,m.value=!1,console.log("数据收藏成功",t)})).catch((e=>{console.error("Failed to fetch data:",e)}))},X=e=>e?ee()(e).format("YYYY.MM.DD "):"",A=e=>null===e||void 0===e?"":e.toFixed(2),Q=e=>e.checkLove%2==1?e.taskText.substring(0,15)+"...":e.taskText,J=e=>{ae.Z.get(`/api/remindTask?id=${e.taskId}`,{headers:T}).then((e=>{console.log("数据提醒成功",e),0==e.data.code?p.value=e.data.msg:p.value=e.data.data})).catch((e=>{console.error("Failed to fetch data:",e),p.value="提醒失败!"})),h.value=!0,setTimeout((()=>{h.value=!1}),1e3)};return{remindItem:J,imageUrl1:t,imageUrl2:o,icon:e,image:a,disPlay:b,show_1:s,show_2:n,show_3:i,show_4:c,show_5:r,notificationContent:$,goodItem:K,loveItem:M,show_6:m,show_7:h,message:p,value:y,productList_0:x,productList_1:C,deleteItem:Z,handleConfirm:Y,handleCancel:S,checkConfirm:V,checkCancel:E,completedItem:B,offset_task:f,onClick:_,onSearch:U,active:d,images:w,formatDate:X,formatNumber:A,picturewidth:l,truncateText:Q}}},pe=o(3744);const we=(0,pe.Z)(he,[["render",R]]);var ke=we}}]);
//# sourceMappingURL=656.1287fb79.js.map