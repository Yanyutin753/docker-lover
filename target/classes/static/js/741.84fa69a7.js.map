{"version":3,"file":"js/741.84fa69a7.js","mappings":"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","sources":["webpack://yy2/./node_modules/jwt-decode/build/jwt-decode.esm.js","webpack://yy2/./src/views/Add/UserRequireIndex.vue?16ac","webpack://yy2/./src/views/Add/UserRequireIndex.vue","webpack://yy2/./src/views/Add/UserRequireIndex.vue?df1a"],"sourcesContent":["function e(e){this.message=e}e.prototype=new Error,e.prototype.name=\"InvalidCharacterError\";var r=\"undefined\"!=typeof window&&window.atob&&window.atob.bind(window)||function(r){var t=String(r).replace(/=+$/,\"\");if(t.length%4==1)throw new e(\"'atob' failed: The string to be decoded is not correctly encoded.\");for(var n,o,a=0,i=0,c=\"\";o=t.charAt(i++);~o&&(n=a%4?64*n+o:o,a++%4)?c+=String.fromCharCode(255&n>>(-2*a&6)):0)o=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\".indexOf(o);return c};function t(e){var t=e.replace(/-/g,\"+\").replace(/_/g,\"/\");switch(t.length%4){case 0:break;case 2:t+=\"==\";break;case 3:t+=\"=\";break;default:throw\"Illegal base64url string!\"}try{return function(e){return decodeURIComponent(r(e).replace(/(.)/g,(function(e,r){var t=r.charCodeAt(0).toString(16).toUpperCase();return t.length<2&&(t=\"0\"+t),\"%\"+t})))}(t)}catch(e){return r(t)}}function n(e){this.message=e}function o(e,r){if(\"string\"!=typeof e)throw new n(\"Invalid token specified\");var o=!0===(r=r||{}).header?0:1;try{return JSON.parse(t(e.split(\".\")[o]))}catch(e){throw new n(\"Invalid token specified: \"+e.message)}}n.prototype=new Error,n.prototype.name=\"InvalidTokenError\";export default o;export{n as InvalidTokenError};\n//# sourceMappingURL=jwt-decode.esm.js.map\n","import { resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, Fragment as _Fragment, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"content_useHome\"\n};\nconst _hoisted_2 = {\n  style: {\n    \"--van-nav-bar-icon-color\": \"#f19290\"\n  }\n};\nconst _hoisted_3 = {\n  style: {\n    \"display\": \"flex\",\n    \"justify-content\": \"center\",\n    \"align-items\": \"center\",\n    \"transform\": \"translateY(10px)\"\n  }\n};\nconst _hoisted_4 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1);\nconst _hoisted_5 = /*#__PURE__*/_createElementVNode(\"meta\", {\n  name: \"viewport\",\n  content: \"width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0,user-scalable=no\"\n}, null, -1);\nconst _hoisted_6 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1);\nconst _hoisted_7 = {\n  style: {\n    \"margin\": \"16px\"\n  }\n};\nconst _hoisted_8 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1);\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_van_nav_bar = _resolveComponent(\"van-nav-bar\");\n  const _component_van_image = _resolveComponent(\"van-image\");\n  const _component_van_icon = _resolveComponent(\"van-icon\");\n  const _component_van_loading = _resolveComponent(\"van-loading\");\n  const _component_van_uploader = _resolveComponent(\"van-uploader\");\n  const _component_van_field = _resolveComponent(\"van-field\");\n  const _component_van_cell_group = _resolveComponent(\"van-cell-group\");\n  const _component_van_button = _resolveComponent(\"van-button\");\n  const _component_van_form = _resolveComponent(\"van-form\");\n  const _component_van_dialog = _resolveComponent(\"van-dialog\");\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createVNode(_component_van_nav_bar, {\n    title: \"修改用户信息\",\n    \"left-text\": \"\",\n    \"left-arrow\": \"\",\n    onClickLeft: $setup.onClickLeft\n  }, null, 8, [\"onClickLeft\"])]), _createElementVNode(\"div\", _hoisted_3, [_createVNode(_component_van_image, {\n    width: \"65%\",\n    height: \"65%\",\n    fit: \"cover\",\n    position: \"center\",\n    src: $setup.image\n  }, null, 8, [\"src\"])]), _ctx.isLoading ? (_openBlock(), _createBlock(_component_van_loading, {\n    key: 0,\n    vertical: \"\",\n    class: \"loading-overlay\"\n  }, {\n    icon: _withCtx(() => [_createVNode(_component_van_icon, {\n      name: \"star-o\",\n      size: \"30\"\n    })]),\n    default: _withCtx(() => [_createTextVNode(\" 加载中... \")]),\n    _: 1\n  })) : _createCommentVNode(\"\", true), _createVNode(_component_van_form, {\n    onSubmit: $setup.onSubmit\n  }, {\n    default: _withCtx(() => [_hoisted_4, _hoisted_5, _createVNode(_component_van_uploader, {\n      modelValue: $setup.fileList,\n      \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.fileList = $event),\n      \"after-read\": $setup.afterRead,\n      \"upload-text\": \"上传头像\"\n    }, null, 8, [\"modelValue\", \"after-read\"]), _createVNode(_component_van_cell_group, {\n      inset: \"\"\n    }, {\n      default: _withCtx(() => [_hoisted_6, _createVNode(_component_van_field, {\n        modelValue: $setup.username,\n        \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $setup.username = $event),\n        name: \"更改用户名\",\n        label: \"🧩用户名\",\n        placeholder: \"更改用户名（选填）\",\n        clearable: \"\"\n      }, null, 8, [\"modelValue\"]), _createVNode(_component_van_field, {\n        modelValue: $setup.desc,\n        \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $setup.desc = $event),\n        name: \"更改用户详情\",\n        label: \"📝用户详情\",\n        type: \"textarea\",\n        rows: \"2\",\n        placeholder: \"更改用户详情（选填）\",\n        clearable: \"\"\n      }, null, 8, [\"modelValue\"]), _createVNode(_component_van_field, {\n        modelValue: $setup.password,\n        \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $setup.password = $event),\n        type: \"password\",\n        name: \"更改密码\",\n        label: \"💥更改密码\",\n        placeholder: \"更改用户密码（选填）\",\n        clearable: \"\"\n      }, null, 8, [\"modelValue\"])]),\n      _: 1\n    }), _createElementVNode(\"div\", _hoisted_7, [_createVNode(_component_van_button, {\n      round: \"\",\n      block: \"\",\n      color: \"#F19290\",\n      \"native-type\": \"submit\"\n    }, {\n      default: _withCtx(() => [_createTextVNode(\" 提交 \")]),\n      _: 1\n    }), _hoisted_8, _createVNode(_component_van_button, {\n      round: \"\",\n      block: \"\",\n      type: \"danger\",\n      onClick: $setup.logout\n    }, {\n      default: _withCtx(() => [_createTextVNode(\" 注销账号并退出 \")]),\n      _: 1\n    }, 8, [\"onClick\"])])]),\n    _: 1\n  }, 8, [\"onSubmit\"])]), _createVNode(_component_van_dialog, {\n    show: $setup.show_1,\n    \"onUpdate:show\": _cache[4] || (_cache[4] = $event => $setup.show_1 = $event),\n    title: \"🥰恭喜\",\n    message: \"修改成功！\",\n    width: \"70vw\",\n    height: \"30vw\",\n    \"show-cancel-button\": false,\n    \"show-confirm-button\": false\n  }, null, 8, [\"show\"]), _createVNode(_component_van_dialog, {\n    show: $setup.show_2,\n    \"onUpdate:show\": _cache[5] || (_cache[5] = $event => $setup.show_2 = $event),\n    onConfirm: $setup.checkConfirm,\n    onCancel: $setup.checkCancel,\n    title: \"温馨提示\",\n    message: \"😭您确定要注销账号吗，注销账号会清理所有的数据，请您要仔细考虑哦！\",\n    \"show-cancel-button\": \"\"\n  }, null, 8, [\"show\", \"onConfirm\", \"onCancel\"])], 64);\n}","import { ref, onMounted } from \"vue\";\nimport axios from \"axios\";\nimport png from \"@/util/useAdd.gif\";\nimport { useRouter } from \"vue-router\";\n// jwt解析插件\nimport jwtDecode from \"jwt-decode\";\nexport default {\n  setup() {\n    const image = [png];\n    const show_1 = ref(false);\n    const show_2 = ref(false);\n    const isLoading = ref(false);\n    const router = useRouter();\n    onMounted(() => {\n      fetchLoginToken();\n    });\n    const token = localStorage.getItem(\"jwtToken\"); // 从localStorage获取JWT令牌\n    if (!token) {\n      router.replace(\"/login\");\n    }\n    const headers = {\n      Authorization: `Bearer ${token}`\n    };\n    let userId = \"\";\n    const fetchLoginToken = () => {\n      axios.post(\"/api/loginToken?token=\" + token).then(response => {\n        if (response.data.code == 0) {\n          console.error(response.data.data);\n          router.replace(\"/login\");\n          return;\n        }\n\n        // 获取id\n        const decodedToken = jwtDecode(token);\n        // 从解码后的令牌中获取特定的数据\n        userId = decodedToken.id; // 从令牌中获取用户ID\n        // 在这里处理登录令牌接口的响应\n        // 如果需要执行一些特定的操作，可以在这里添加代码\n      }).catch(error => {\n        console.error(\"请求loginToken接口失败\", error);\n        router.replace(\"/login\");\n      });\n    };\n    const checkConfirm = () => {\n      isLoading.value = true; // 显示加载中效果\n      onLogout();\n    };\n    const checkCancel = () => {\n      return;\n    };\n    const logout = () => {\n      show_2.value = true;\n    };\n    const onLogout = () => {\n      axios.put(`/api/deleteUser?id=${userId}`, \"\", {\n        headers\n      }).then(response => {\n        // 将响应转换为JSON\n        const responseData = response.data;\n\n        // 检查code是否等于1\n        if (responseData.code === 1) {\n          // 处理完成成功的逻辑\n          // 完成成功后重新加载页面\n          // 删除本地存储的 token\n          localStorage.removeItem(\"jwtToken\");\n          // 使用 Vue Router 进行页面跳转到登录页面\n          router.replace(\"/login\");\n        } else {\n          console.error(\"删除用户失败\", responseData);\n          // 在这里可以处理其他错误情况\n        }\n      }).catch(error => {\n        // 处理完成失败的逻辑\n        console.error(\"删除用户失败\", error);\n      });\n    };\n    const onClickLeft = () => router.replace(\"/Setting\");\n    const id = router.currentRoute.value.params.id;\n    let strippedId = id.replace(\":\", \"\");\n    const username = ref(\"\");\n    const desc = ref(\"\");\n    const password = ref(\"\");\n    const fileList = ref([]);\n    let imageUrl = ref(\"\");\n    const afterRead = file => {\n      file.status = \"uploading\";\n      file.message = \"上传中...\";\n      const formData = new FormData();\n      formData.append(\"file\", file.file);\n      fetch(\"/api/upload\", {\n        method: \"POST\",\n        headers: headers,\n        // 添加请求头\n        body: formData\n      }).then(response => response.json()).then(data => {\n        // 这里假设服务器返回一个包含图片URL的JSON对象\n        imageUrl.value = data.data;\n        file.message = \"上传成功\";\n        file.status = \"\";\n      }).catch(error => {\n        console.error(\"上传失败：\", error);\n      });\n    };\n    const onSubmit = () => {\n      // 创建包含参数的请求体\n      const user = {\n        // id不能加value\n        nameId: strippedId,\n        name: username.value,\n        userImage: imageUrl.value,\n        userText: desc.value,\n        password: password.value\n      };\n      isLoading.value = true;\n      // 发送 POST 请求到指定的 URL\n      fetch(\"/api/requireUser\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${token}`\n        },\n        body: JSON.stringify(user)\n      }).then(response => {\n        console.log(response.data);\n        try {\n          show_1.value = true;\n          // 等待3秒后执行路由跳转\n          setTimeout(() => {\n            router.replace(\"/\");\n          }, 1000);\n        } catch (error) {\n          console.error(\"请求requireUser接口失败\", error);\n        }\n      }).catch(error => {\n        console.error(\"请求requireUser接口失败\", error);\n        // 处理请求失败的情况\n      });\n\n      isLoading.value = false;\n    };\n    return {\n      show_1,\n      show_2,\n      image,\n      onClickLeft,\n      checkConfirm,\n      checkCancel,\n      logout,\n      username,\n      desc,\n      password,\n      onSubmit,\n      fileList,\n      afterRead\n    };\n  }\n};","/* unplugin-vue-components disabled */import { render } from \"./UserRequireIndex.vue?vue&type=template&id=727b055d\"\nimport script from \"./UserRequireIndex.vue?vue&type=script&lang=js\"\nexport * from \"./UserRequireIndex.vue?vue&type=script&lang=js\"\n\nimport \"./UserRequireIndex.vue?vue&type=style&index=0&id=727b055d&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["e","this","message","prototype","Error","name","r","window","atob","bind","t","String","replace","length","n","o","a","i","c","charAt","fromCharCode","indexOf","decodeURIComponent","charCodeAt","toString","toUpperCase","header","JSON","parse","split","_hoisted_1","class","_hoisted_2","style","_hoisted_3","_hoisted_4","_","_hoisted_5","content","_hoisted_6","_hoisted_7","_hoisted_8","render","_ctx","_cache","$props","$setup","$data","$options","_component_van_nav_bar","_component_van_image","_component_van_icon","_component_van_loading","_component_van_uploader","_component_van_field","_component_van_cell_group","_component_van_button","_component_van_form","_component_van_dialog","title","onClickLeft","width","height","fit","position","src","image","isLoading","key","vertical","icon","size","default","onSubmit","modelValue","fileList","$event","afterRead","inset","username","label","placeholder","clearable","desc","type","rows","password","round","block","color","onClick","logout","show","show_1","show_2","onConfirm","checkConfirm","onCancel","checkCancel","setup","router","fetchLoginToken","token","localStorage","getItem","headers","Authorization","userId","axios","post","then","response","data","code","console","error","decodedToken","id","catch","value","onLogout","put","responseData","removeItem","currentRoute","params","strippedId","imageUrl","file","status","formData","FormData","append","fetch","method","body","json","user","nameId","userImage","userText","stringify","log","setTimeout","__exports__"],"sourceRoot":""}