"use strict";(self["webpackChunkyy2"]=self["webpackChunkyy2"]||[]).push([[97],{6245:function(e,t,o){function n(e){this.message=e}n.prototype=new Error,n.prototype.name="InvalidCharacterError";var a="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new n("'atob' failed: The string to be decoded is not correctly encoded.");for(var o,a,l=0,r=0,i="";a=t.charAt(r++);~a&&(o=l%4?64*o+a:a,l++%4)?i+=String.fromCharCode(255&o>>(-2*l&6)):0)a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(a);return i};function l(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return function(e){return decodeURIComponent(a(e).replace(/(.)/g,(function(e,t){var o=t.charCodeAt(0).toString(16).toUpperCase();return o.length<2&&(o="0"+o),"%"+o})))}(t)}catch(e){return a(t)}}function r(e){this.message=e}function i(e,t){if("string"!=typeof e)throw new r("Invalid token specified");var o=!0===(t=t||{}).header?0:1;try{return JSON.parse(l(e.split(".")[o]))}catch(e){throw new r("Invalid token specified: "+e.message)}}r.prototype=new Error,r.prototype.name="InvalidTokenError",t.Z=i},3097:function(e,t,o){o.r(t),o.d(t,{default:function(){return X}});var n=o(3164),a=(o(6335),o(2876)),l=(o(2278),o(1116)),r=(o(8825),o(8136)),i=(o(2219),o(458)),u=o(6252),c=o(2262),s=o(293),d=o(8443),m=o(2639),h=o(3207);const v=(0,s.l7)({},h.d4,{modelValue:(0,d.Ce)(),filter:Function,formatter:{type:Function,default:(e,t)=>t}}),w=Object.keys(h.d4);function p(e,t){if(e<0)return[];const o=Array(e);let n=-1;while(++n<e)o[n]=t(n);return o}const f=(e,t,o,n,a,l)=>{const r=p(t-e+1,(t=>{const a=(0,m.Bd)(e+t);return n(o,{text:a,value:a})}));return a?a(o,r,l):r},g=(e,t)=>e.map(((e,o)=>{const n=t[o];if(n.length){const t=+n[0].value,o=+n[n.length-1].value;return(0,m.Bd)((0,m.uZ)(+e,t,o))}return e}));var b=o(4719),k=o(4385);const[C]=(0,b["do"])("time-picker"),y=e=>/^([01]\d|2[0-3]):([0-5]\d):([0-5]\d)$/.test(e),_=["hour","minute","second"],x=(0,s.l7)({},v,{minHour:(0,d.SI)(0),maxHour:(0,d.SI)(23),minMinute:(0,d.SI)(0),maxMinute:(0,d.SI)(59),minSecond:(0,d.SI)(0),maxSecond:(0,d.SI)(59),minTime:{type:String,validator:y},maxTime:{type:String,validator:y},columnsType:{type:Array,default:()=>["hour","minute"]},filter:Function});var T=(0,u.aZ)({name:C,props:x,emits:["confirm","cancel","change","update:modelValue"],setup(e,{emit:t,slots:o}){const n=(0,c.iH)(e.modelValue),a=t=>{const o=t.split(":");return _.map(((t,n)=>e.columnsType.includes(t)?o[n]:"00"))},l=(0,u.Fl)((()=>{let{minHour:t,maxHour:o,minMinute:l,maxMinute:r,minSecond:i,maxSecond:u}=e;if(e.minTime||e.maxTime){const c={hour:0,minute:0,second:0};e.columnsType.forEach(((e,t)=>{var o;c[e]=null!=(o=n.value[t])?o:0}));const{hour:s,minute:d}=c;if(e.minTime){const[o,n,r]=a(e.minTime);t=o,l=+s<=+t?n:"00",i=+s<=+t&&+d<=+l?r:"00"}if(e.maxTime){const[t,n,l]=a(e.maxTime);o=t,r=+s>=+o?n:"59",u=+s>=+o&&+d>=+r?l:"59"}}return e.columnsType.map((a=>{const{filter:c,formatter:s}=e;switch(a){case"hour":return f(+t,+o,a,s,c,n.value);case"minute":return f(+l,+r,a,s,c,n.value);case"second":return f(+i,+u,a,s,c,n.value);default:return[]}}))}));(0,u.YP)(n,(o=>{(0,s.$c)(o,e.modelValue)||t("update:modelValue",o)})),(0,u.YP)((()=>e.modelValue),(e=>{e=g(e,l.value),(0,s.$c)(e,n.value)||(n.value=e)}),{immediate:!0});const r=(...e)=>t("change",...e),i=(...e)=>t("cancel",...e),d=(...e)=>t("confirm",...e);return()=>(0,u.Wm)(k.cW,(0,u.dG)({modelValue:n.value,"onUpdate:modelValue":e=>n.value=e,columns:l.value,onChange:r,onCancel:i,onConfirm:d},(0,s.ei)(e,w)),o)}});const W=(0,i.n)(T);o(1958),o(368),o(2939),o(1771),o(9137),o(1088),o(5338),o(1564),o(1744),o(6565);var V=o(5267),S=(o(1645),o(7630)),H=(o(9883),o(5160)),U=(o(6338),o(2406));o(6615);const I={class:"content_remind"},$=(0,u._)("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0,user-scalable=no"},null,-1),q={style:{"--van-nav-bar-icon-color":"#f19290"}},Z={style:{transform:"translate(5vw, 4vh)",position:"relative",overflow:"hidden",cursor:"grab","background-color":"#fff","box-shadow":"0px 0px 5px rgba(0, 0, 0, 0.2)","border-radius":"20px",width:"90%"}},L={style:{"margin-top":"2vh","margin-bottom":"2vh"}},R={key:0},z={key:1},A={style:{transform:"translate(5vw, 8vh)",position:"relative",overflow:"hidden",cursor:"grab","background-color":"#fff","box-shadow":"0px 0px 5px rgba(0, 0, 0, 0.2)","border-radius":"20px",width:"90%"}},E={style:{"margin-top":"2vh","margin-bottom":"2vh"}},O=(0,u._)("br",null,null,-1),P=(0,u._)("br",null,null,-1),j=(0,u._)("br",null,null,-1),B=(0,u._)("br",null,null,-1),F={style:{"margin-top":"3vh","margin-bottom":"4vh"}},M={style:{"margin-top":"3vh","margin-bottom":"4vh"}};function D(e,t,o,i,c,s){const d=U.l2,m=H.bL,h=S.rs,v=V.TS,w=W,p=r.GI,f=l.gb,g=a.Vq,b=n.gN;return(0,u.wg)(),(0,u.iD)(u.HY,null,[(0,u._)("div",I,[$,(0,u._)("div",q,[(0,u.Wm)(d,{title:"设置中心","left-text":"","left-arrow":"",onClickLeft:i.onClickLeft},null,8,["onClickLeft"])]),(0,u._)("div",Z,[(0,u._)("div",L,[(0,u.Wm)(m,{center:"",title:"定时提醒"}),(0,u.Wm)(v,{inset:""},{default:(0,u.w5)((()=>[(0,u.Wm)(m,{center:"",title:"每日总结报告"},{"right-icon":(0,u.w5)((()=>[(0,u.Wm)(h,{"active-color":"#f19290",modelValue:i.checked,"onUpdate:modelValue":t[0]||(t[0]=e=>i.checked=e),onChange:i.change},null,8,["modelValue","onChange"])])),_:1}),1==i.checked?((0,u.wg)(),(0,u.iD)("div",R,[(0,u.Wm)(m,{title:"提醒时间",value:i.time,onClick:i.changeTime},null,8,["value","onClick"]),(0,u.Wm)(m,{title:"提醒结尾文案",label:i.text,"is-link":"",onClick:t[1]||(t[1]=e=>i.requireItem())},null,8,["label"])])):(0,u.kq)("",!0),1==i.checked?((0,u.wg)(),(0,u.iD)("div",z)):(0,u.kq)("",!0)])),_:1})])]),(0,u._)("div",A,[(0,u._)("div",E,[(0,u.Wm)(m,{center:"",title:"用户设置"}),(0,u.Wm)(v,{inset:""},{default:(0,u.w5)((()=>[(0,u.Wm)(m,{title:"海报展示设置",replace:"",to:"/displaySetting","is-link":""}),(0,u.Wm)(m,{title:"用户信息设置",replace:"",to:`/UserRequire/${i.userId}`,"is-link":""},null,8,["to"]),(0,u.Wm)(m,{title:"主页通知设置",replace:"",to:"/homeRequire","is-link":""}),(0,u.Wm)(m,{title:"用户注册设置",label:i.userLogin,"is-link":"",onClick:t[2]||(t[2]=e=>i.requireUser())},null,8,["label"])])),_:1})])]),(0,u.Wm)(p,{show:i.show,"onUpdate:show":t[5]||(t[5]=e=>i.show=e),round:"",position:"bottom"},{default:(0,u.w5)((()=>[(0,u.Wm)(w,{modelValue:i.currentTime,"onUpdate:modelValue":t[3]||(t[3]=e=>i.currentTime=e),title:"选择时间",onConfirm:t[4]||(t[4]=e=>i.confirm(i.currentTime)),onCancel:i.cancel,"cancel-button-text":" ","confirm-button-text":"完成"},null,8,["modelValue","onCancel"])])),_:1},8,["show"])]),(0,u.Wm)(g,{show:i.show_1,"onUpdate:show":t[6]||(t[6]=e=>i.show_1=e),"show-cancel-button":!1,"show-confirm-button":!1,width:"50vw"},{default:(0,u.w5)((()=>[O,P,(0,u.Wm)(f,{size:"40px",vertical:"","text-size":"15px",color:"#f19290"},{default:(0,u.w5)((()=>[(0,u.Uk)("🚀拼命加载中...")])),_:1}),j,B])),_:1},8,["show"]),(0,u.Wm)(g,{show:i.show_2,"onUpdate:show":t[7]||(t[7]=e=>i.show_2=e),title:"🥰提示",message:i.message,width:"70vw",height:"30vw","close-on-click-overlay":!0,"show-cancel-button":!1,"show-confirm-button":!1},null,8,["show","message"]),(0,u.Wm)(g,{show:i.show_3,"onUpdate:show":t[9]||(t[9]=e=>i.show_3=e),title:"修改提醒结尾",onConfirm:i.reCheckConfirm,onCancel:i.reCheckCancel,"show-cancel-button":""},{default:(0,u.w5)((()=>[(0,u._)("div",F,[(0,u.Wm)(v,{inset:""},{default:(0,u.w5)((()=>[(0,u.Wm)(v,{inset:""},{default:(0,u.w5)((()=>[(0,u.Wm)(b,{modelValue:i.reValue,"onUpdate:modelValue":t[8]||(t[8]=e=>i.reValue=e),rows:"3",autosize:"",label:"提醒结尾文案",type:"textarea",maxlength:"100",placeholder:"请输入提醒结尾文案","show-word-limit":""},null,8,["modelValue"])])),_:1})])),_:1})])])),_:1},8,["show","onConfirm","onCancel"]),(0,u.Wm)(g,{show:i.show_4,"onUpdate:show":t[11]||(t[11]=e=>i.show_4=e),title:"修改用户注册密钥",onConfirm:i.userCheckConfirm,onCancel:i.userCheckCancel,"show-cancel-button":""},{default:(0,u.w5)((()=>[(0,u._)("div",M,[(0,u.Wm)(v,{inset:""},{default:(0,u.w5)((()=>[(0,u.Wm)(v,{inset:""},{default:(0,u.w5)((()=>[(0,u.Wm)(b,{modelValue:i.userValue,"onUpdate:modelValue":t[10]||(t[10]=e=>i.userValue=e),rows:"2",autosize:"",label:"注册密钥",type:"textarea",maxlength:"20",placeholder:"请输入用户注册密钥","show-word-limit":""},null,8,["modelValue"])])),_:1})])),_:1})])])),_:1},8,["show","onConfirm","onCancel"])],64)}var N=o(2119),Y=o(6154),G=o(6245),J={setup(){const e=(0,c.iH)(!1),t=(0,c.iH)(!1),o=(0,c.iH)(!1),n=(0,c.iH)(!1),a=(0,c.iH)(!1),l=(0,c.iH)(""),r=(0,c.iH)(),i=(0,N.tv)(),s=(0,c.iH)(["12","00"]),d=(0,c.iH)(""),m=(0,c.iH)(""),h=(0,c.iH)(""),v=(0,c.iH)(""),w=(0,c.iH)(""),p=(0,c.iH)(""),f=localStorage.getItem("jwtToken");f||i.replace("/login");const g={Authorization:`Bearer ${f}`};(0,u.bv)((()=>{t.value=!0,b()}));const b=()=>{Y.Z.post("/api/loginToken?token="+f).then((e=>{if(0==e.data.code)return console.error(e.data.data),void i.replace("/login");console.log(e.data.data);const t=(0,G.Z)(f);h.value=t.id,C()})).catch((e=>{console.error("请求loginToken接口失败",e),i.replace("/login")}))},k=(0,c.iH)(""),C=()=>{try{console.log(h),Y.Z.get(`/api/selectUser?id=${h.value}`,{headers:g}).then((e=>{const t=e.data.data;console.log(t),v.value=t.remindSwitch;const o=t.remindTime.split(" "),n=o[1],a=o[2];r.value=v.value,d.value=`${a}:${n}`,m.value=t.remindText,s.value=[a,n]})),Y.Z.get("/api/signPassword",{headers:g}).then((e=>{const t=e.data.data;console.log(t),k.value=t}))}catch(e){console.error("获取数据失败",e)}t.value=!1},y=()=>{1==r.value?Y.Z.get("/api/openRemind",{headers:g}).then((e=>{const t=e.data.data;console.log(t),r.value=!0,v.value=!0})):Y.Z.get("/api/closeRemind",{headers:g}).then((e=>{const t=e.data.data;console.log(t),r.value=!1,v.value=!1}))},_=t=>{console.log(t);const n=t[1],a=t[0],r=`0 ${n} ${a} * * ?`;Y.Z.get(`/api/changeRemind?time=${r}`,{headers:g}).then((t=>{const o=t.data.data;console.log(o),d.value=`${a}:${n}`,l.value=o,e.value=!1})),o.value=!0,setTimeout((()=>{o.value=!1}),1e3)},x=()=>{e.value=!0},T=()=>{e.value=!1},W=()=>{n.value=!0},V=()=>{const e={nameId:h.value,remindText:w.value};fetch("/api/requireUser",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${f}`},body:JSON.stringify(e)}).then((e=>e.json())).then((e=>{if(1==e.code){console.log(e.data);try{l.value=e.data,m.value=w.value}catch(t){console.error("请求requireUser接口失败",t)}}})).catch((e=>{console.error("请求requireUser接口失败",e)})),o.value=!0,setTimeout((()=>{o.value=!1}),1e3)},S=()=>{},H=()=>{a.value=!0},U=()=>{console.log(p.value),Y.Z.get(`/api/RequireSignPassword?password=${p.value}`,{headers:g}).then((e=>{const t=e.data.data;l.value=t,k.value=p.value})),o.value=!0,setTimeout((()=>{o.value=!1}),1e3)},I=()=>{},$=()=>i.replace("/User");return{reValue:w,changeTime:x,show:e,show_1:t,show_2:o,show_3:n,show_4:a,confirm:_,cancel:T,userId:h,text:m,time:d,change:y,checked:r,currentTime:s,remindSwitch:v,onClickLeft:$,message:l,requireItem:W,reCheckConfirm:V,reCheckCancel:S,userLogin:k,userValue:p,requireUser:H,userCheckConfirm:U,userCheckCancel:I}}},K=o(3744);const Q=(0,K.Z)(J,[["render",D]]);var X=Q},6338:function(e,t,o){o(1958),o(368),o(6742),o(3094)},2219:function(e,t,o){o(1958),o(368),o(6742),o(6196),o(2666)}}]);
//# sourceMappingURL=97.70b36bc1.js.map