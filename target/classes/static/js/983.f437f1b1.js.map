{"version":3,"file":"js/983.f437f1b1.js","mappings":"uWACA,MAAMA,EAAa,CACjBC,MAAO,mBAEHC,EAAa,CACjBC,MAAO,CACL,2BAA4B,YAG1BC,EAAa,CACjBD,MAAO,CACL,QAAW,OACX,kBAAmB,SACnB,cAAe,SACf,UAAa,qBAGXE,EAAa,CACjBF,MAAO,CACL,UAAW,IACX,UAAa,wBAGXG,GAA0B,IAAAC,GAAoB,OAAQ,CAC1DC,KAAM,WACNC,QAAS,gGACR,MAAO,GACJC,EAAa,CACjBP,MAAO,CACL,OAAU,OACV,UAAa,0BAGV,SAASQ,EAAOC,EAAMC,EAAQC,EAAQC,EAAQC,EAAOC,GAC1D,MAAMC,EAAyB,KACzBC,EAAuB,KACvBC,EAAsB,KACtBC,EAAyB,KACzBC,EAA0B,KAC1BC,EAAuB,KACvBC,EAA4B,KAC5BC,EAAwB,KACxBC,EAAsB,KACtBC,EAAwB,KAC9B,OAAO,WAAc,QAAoB,MAAO3B,EAAY,EAAC,IAAAO,GAAoB,MAAOL,EAAY,EAAC,QAAagB,EAAwB,CACxIU,MAAO,SACP,YAAa,GACb,aAAc,GACdC,YAAad,EAAOc,aACnB,KAAM,EAAG,CAAC,mBAAmB,IAAAtB,GAAoB,MAAOH,EAAY,EAAC,QAAae,EAAsB,CACzGW,MAAO,MACPC,OAAQ,MACRC,IAAK,QACLC,SAAU,SACVC,IAAKnB,EAAOoB,OACX,KAAM,EAAG,CAAC,UAAWpB,EAAOqB,YAAa,WAAc,QAAaf,EAAwB,CAC7FgB,IAAK,EACLC,SAAU,GACVrC,MAAO,mBACN,CACDsC,MAAM,SAAS,IAAM,EAAC,QAAanB,EAAqB,CACtDZ,KAAM,SACNgC,KAAM,UAERC,SAAS,SAAS,IAAM,EAAC,QAAiB,eAC1ClC,EAAG,MACC,QAAoB,IAAI,IAAO,IAAAA,GAAoB,MAAOF,EAAY,EAAC,QAAaqB,EAAqB,CAC7GgB,SAAU3B,EAAO2B,UAChB,CACDD,SAAS,SAAS,IAAM,CAACnC,GAAY,QAAagB,EAAyB,CACzEqB,WAAY5B,EAAO6B,SACnB,sBAAuB/B,EAAO,KAAOA,EAAO,GAAKgC,GAAU9B,EAAO6B,SAAWC,GAC7E,aAAc9B,EAAO+B,UACrB,cAAe,QACd,KAAM,EAAG,CAAC,aAAc,gBAAgB,QAAatB,EAA2B,CACjFuB,MAAO,IACN,CACDN,SAAS,SAAS,IAAM,EAAC,QAAalB,EAAsB,CAC1DoB,WAAY5B,EAAOiC,QACnB,sBAAuBnC,EAAO,KAAOA,EAAO,GAAKgC,GAAU9B,EAAOiC,QAAUH,GAC5ErC,KAAM,MACNyC,MAAO,SACPC,YAAa,WACbC,UAAW,IACV,KAAM,EAAG,CAAC,gBAAgB,QAAa5B,EAAsB,CAC9DoB,WAAY5B,EAAOqC,SACnB,sBAAuBvC,EAAO,KAAOA,EAAO,GAAKgC,GAAU9B,EAAOqC,SAAWP,GAC7ErC,KAAM,QACNyC,MAAO,QACPC,YAAa,UACbC,UAAW,IACV,KAAM,EAAG,CAAC,gBAAgB,QAAa5B,EAAsB,CAC9DoB,WAAY5B,EAAOsC,KACnB,sBAAuBxC,EAAO,KAAOA,EAAO,GAAKgC,GAAU9B,EAAOsC,KAAOR,GACzErC,KAAM,SACNyC,MAAO,SACPK,KAAM,WACNC,KAAM,IACNL,YAAa,WACbC,UAAW,IACV,KAAM,EAAG,CAAC,gBAAgB,QAAa5B,EAAsB,CAC9DoB,WAAY5B,EAAOyC,SACnB,sBAAuB3C,EAAO,KAAOA,EAAO,GAAKgC,GAAU9B,EAAOyC,SAAWX,GAC7ES,KAAM,WACN9C,KAAM,OACNyC,MAAO,SACPC,YAAa,WACbC,UAAW,IACV,KAAM,EAAG,CAAC,kBACb5C,EAAG,KACD,IAAAA,GAAoB,MAAOG,EAAY,EAAC,QAAae,EAAuB,CAC9EgC,MAAO,GACPC,MAAO,GACPC,MAAO,UACP,cAAe,UACd,CACDlB,SAAS,SAAS,IAAM,EAAC,QAAiB,WAC1ClC,EAAG,SAELA,EAAG,GACF,EAAG,CAAC,gBAAgB,QAAaoB,EAAuB,CACzDiC,KAAM7C,EAAO6C,KACb,gBAAiB/C,EAAO,KAAOA,EAAO,GAAKgC,GAAU9B,EAAO6C,KAAOf,GACnEjB,MAAO,OACPiC,QAAS,WACR,KAAM,EAAG,CAAC,UAAU,QAAalC,EAAuB,CACzDiC,KAAM7C,EAAO+C,OACb,gBAAiBjD,EAAO,KAAOA,EAAO,GAAKgC,GAAU9B,EAAO+C,OAASjB,GACrEjB,MAAO,OACPiC,QAAS,QACT/B,MAAO,OACPC,OAAQ,OACR,sBAAsB,EACtB,uBAAuB,GACtB,KAAM,EAAG,CAAC,UAAU,QAAaJ,EAAuB,CACzDiC,KAAM7C,EAAOgD,OACb,gBAAiBlD,EAAO,KAAOA,EAAO,GAAKgC,GAAU9B,EAAOgD,OAASlB,GACrEjB,MAAO,OACPiC,QAAS,cACR,KAAM,EAAG,CAAC,UACf,C,kCCxIA,GACE,KAAAG,GACE,MAAMC,GAAa,QAAO,aAC1BC,QAAQC,IAAIF,EAAWG,OACvB,MAAMjC,EAAQ,CAAC,GACTkC,GAAS,UACTT,GAAO,SAAI,GACXE,GAAS,SAAI,GACbC,GAAS,SAAI,GACblC,EAAc,IAAMwC,EAAOC,QAAQ,UACnClC,GAAY,SAAI,GAChBY,GAAU,QAAI,IACdI,GAAW,QAAI,IACfC,GAAO,QAAI,IACXG,GAAW,QAAI,IACfZ,GAAW,QAAI,IACrB,IAAI2B,GAAW,QAAI,IACnB,MAAMzB,EAAY0B,IAChBA,EAAKC,OAAS,YACdD,EAAKX,QAAU,SACf,MAAMa,EAAW,IAAIC,SACrBD,EAASE,OAAO,OAAQJ,EAAKA,MAC7BK,MAAM,cAAe,CACnBC,OAAQ,OACRC,KAAML,IACLM,MAAKC,GAAYA,EAASC,SAAQF,MAAKG,IAExCZ,EAASH,MAAQe,EAAKA,KACtBX,EAAKX,QAAU,OACfW,EAAKC,OAAS,EAAE,IACfW,OAAMC,IACPnB,QAAQmB,MAAM,QAASA,EAAM,GAC7B,EAEE3C,EAAW,KACf,GAAIM,EAAQoB,OAASH,EAAWG,MAE9B,YADAR,EAAKQ,OAAQ,GAMf,GAHkB,IAAdf,EAAKe,QACPf,EAAKe,MAAQ,wBAEO,IAAlBhB,EAASgB,OAAiC,IAAlBZ,EAASY,OAAiC,IAAlBG,EAASH,MAE3D,YADAL,EAAOK,OAAQ,GAKjB,MAAMkB,EAAO,CACXC,aAAcvC,EAAQoB,MACtB5D,KAAM4C,EAASgB,MACfoB,UAAWjB,EAASH,MACpBqB,SAAUpC,EAAKe,MACfZ,SAAUA,EAASY,OAErBhC,EAAUgC,OAAQ,EAElBS,MAAM,eAAgB,CACpBC,OAAQ,OACRY,QAAS,CACP,eAAgB,oBAElBX,KAAMY,KAAKC,UAAUN,KACpBN,MAAKC,IACNf,QAAQC,IAAIc,EAASE,MACrB,IACErB,EAAOM,OAAQ,EAEfyB,YAAW,KACTxB,EAAOC,QAAQ,SAAS,GACvB,IACL,CAAE,MAAOe,GACPnB,QAAQmB,MAAM,gBAAiBA,EACjC,KACCD,OAAMC,IACPnB,QAAQmB,MAAM,oBAAqBA,EAAM,IAI3CjD,EAAUgC,OAAQ,CAAK,EAEzB,MAAO,CACLjC,QACAyB,OACAE,SACAC,SACAf,UACAnB,cACAuB,WACAC,OACAG,WACAd,WACAN,YACAQ,WACAE,YAEJ,G,UC7FF,MAAMgD,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASnF,KAEpE,O","sources":["webpack://yy2/./src/views/Add/UserAddIndex.vue?377f","webpack://yy2/./src/views/Add/UserAddIndex.vue","webpack://yy2/./src/views/Add/UserAddIndex.vue?1403"],"sourcesContent":["import { resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"content_useHome\"\n};\nconst _hoisted_2 = {\n  style: {\n    \"--van-nav-bar-icon-color\": \"#f19290\"\n  }\n};\nconst _hoisted_3 = {\n  style: {\n    \"display\": \"flex\",\n    \"justify-content\": \"center\",\n    \"align-items\": \"center\",\n    \"transform\": \"translateY(10px)\"\n  }\n};\nconst _hoisted_4 = {\n  style: {\n    \"z-index\": \"2\",\n    \"transform\": \"translate(0vw, 1vh)\"\n  }\n};\nconst _hoisted_5 = /*#__PURE__*/_createElementVNode(\"meta\", {\n  name: \"viewport\",\n  content: \"width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0,user-scalable=no\"\n}, null, -1);\nconst _hoisted_6 = {\n  style: {\n    \"margin\": \"16px\",\n    \"transform\": \"translate(0vw, 0.8vh)\"\n  }\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_van_nav_bar = _resolveComponent(\"van-nav-bar\");\n  const _component_van_image = _resolveComponent(\"van-image\");\n  const _component_van_icon = _resolveComponent(\"van-icon\");\n  const _component_van_loading = _resolveComponent(\"van-loading\");\n  const _component_van_uploader = _resolveComponent(\"van-uploader\");\n  const _component_van_field = _resolveComponent(\"van-field\");\n  const _component_van_cell_group = _resolveComponent(\"van-cell-group\");\n  const _component_van_button = _resolveComponent(\"van-button\");\n  const _component_van_form = _resolveComponent(\"van-form\");\n  const _component_van_dialog = _resolveComponent(\"van-dialog\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createVNode(_component_van_nav_bar, {\n    title: \"注册用户信息\",\n    \"left-text\": \"\",\n    \"left-arrow\": \"\",\n    onClickLeft: $setup.onClickLeft\n  }, null, 8, [\"onClickLeft\"])]), _createElementVNode(\"div\", _hoisted_3, [_createVNode(_component_van_image, {\n    width: \"80%\",\n    height: \"80%\",\n    fit: \"cover\",\n    position: \"center\",\n    src: $setup.image\n  }, null, 8, [\"src\"])]), $setup.isLoading ? (_openBlock(), _createBlock(_component_van_loading, {\n    key: 0,\n    vertical: \"\",\n    class: \"loading-overlay\"\n  }, {\n    icon: _withCtx(() => [_createVNode(_component_van_icon, {\n      name: \"star-o\",\n      size: \"30\"\n    })]),\n    default: _withCtx(() => [_createTextVNode(\" 加载中... \")]),\n    _: 1\n  })) : _createCommentVNode(\"\", true), _createElementVNode(\"div\", _hoisted_4, [_createVNode(_component_van_form, {\n    onSubmit: $setup.onSubmit\n  }, {\n    default: _withCtx(() => [_hoisted_5, _createVNode(_component_van_uploader, {\n      modelValue: $setup.fileList,\n      \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.fileList = $event),\n      \"after-read\": $setup.afterRead,\n      \"upload-text\": \"上传头像\"\n    }, null, 8, [\"modelValue\", \"after-read\"]), _createVNode(_component_van_cell_group, {\n      inset: \"\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_van_field, {\n        modelValue: $setup.keyword,\n        \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $setup.keyword = $event),\n        name: \"用户名\",\n        label: \"🦄注册密钥\",\n        placeholder: \"注册密钥(必填)\",\n        clearable: \"\"\n      }, null, 8, [\"modelValue\"]), _createVNode(_component_van_field, {\n        modelValue: $setup.username,\n        \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $setup.username = $event),\n        name: \"更改用户名\",\n        label: \"🧩用户名\",\n        placeholder: \"用户名（必填）\",\n        clearable: \"\"\n      }, null, 8, [\"modelValue\"]), _createVNode(_component_van_field, {\n        modelValue: $setup.desc,\n        \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $setup.desc = $event),\n        name: \"更改用户详情\",\n        label: \"📝用户详情\",\n        type: \"textarea\",\n        rows: \"2\",\n        placeholder: \"用户详情（选填）\",\n        clearable: \"\"\n      }, null, 8, [\"modelValue\"]), _createVNode(_component_van_field, {\n        modelValue: $setup.password,\n        \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $setup.password = $event),\n        type: \"password\",\n        name: \"注册密码\",\n        label: \"💥注册密码\",\n        placeholder: \"用户密码（必填）\",\n        clearable: \"\"\n      }, null, 8, [\"modelValue\"])]),\n      _: 1\n    }), _createElementVNode(\"div\", _hoisted_6, [_createVNode(_component_van_button, {\n      round: \"\",\n      block: \"\",\n      color: \"#F19290\",\n      \"native-type\": \"submit\"\n    }, {\n      default: _withCtx(() => [_createTextVNode(\" 提交 \")]),\n      _: 1\n    })])]),\n    _: 1\n  }, 8, [\"onSubmit\"])]), _createVNode(_component_van_dialog, {\n    show: $setup.show,\n    \"onUpdate:show\": _cache[5] || (_cache[5] = $event => $setup.show = $event),\n    title: \"😭提示\",\n    message: \"注册密钥错误！\"\n  }, null, 8, [\"show\"]), _createVNode(_component_van_dialog, {\n    show: $setup.show_1,\n    \"onUpdate:show\": _cache[6] || (_cache[6] = $event => $setup.show_1 = $event),\n    title: \"🥰恭喜\",\n    message: \"注册成功！\",\n    width: \"70vw\",\n    height: \"30vw\",\n    \"show-cancel-button\": false,\n    \"show-confirm-button\": false\n  }, null, 8, [\"show\"]), _createVNode(_component_van_dialog, {\n    show: $setup.show_2,\n    \"onUpdate:show\": _cache[7] || (_cache[7] = $event => $setup.show_2 = $event),\n    title: \"😭提示\",\n    message: \"请完整填好上述信息！\"\n  }, null, 8, [\"show\"])]);\n}","import { inject } from 'vue';\nimport { ref } from \"vue\";\nimport png from \"@/util/useAdd.gif\";\nimport { useRouter } from \"vue-router\";\nexport default {\n  setup() {\n    const myVariable = inject('loginLock'); // 调用全局变量\n    console.log(myVariable.value); // 输出：Hello world\n    const image = [png];\n    const router = useRouter();\n    const show = ref(false);\n    const show_1 = ref(false);\n    const show_2 = ref(false);\n    const onClickLeft = () => router.replace(\"/login\");\n    const isLoading = ref(false);\n    const keyword = ref(\"\");\n    const username = ref(\"\");\n    const desc = ref(\"\");\n    const password = ref(\"\");\n    const fileList = ref([]);\n    let imageUrl = ref(\"\");\n    const afterRead = file => {\n      file.status = \"uploading\";\n      file.message = \"上传中...\";\n      const formData = new FormData();\n      formData.append(\"file\", file.file);\n      fetch(\"/api/upload\", {\n        method: \"POST\",\n        body: formData\n      }).then(response => response.json()).then(data => {\n        // 这里假设服务器返回一个包含图片URL的JSON对象\n        imageUrl.value = data.data;\n        file.message = \"上传成功\";\n        file.status = \"\";\n      }).catch(error => {\n        console.error(\"上传失败：\", error);\n      });\n    };\n    const onSubmit = () => {\n      if (keyword.value != myVariable.value) {\n        show.value = true;\n        return;\n      }\n      if (desc.value == \"\") {\n        desc.value = \"😂这个人很懒，没有填写相关的用户详情！\";\n      }\n      if (username.value == \"\" || password.value == \"\" || imageUrl.value == \"\") {\n        show_2.value = true;\n        return;\n      }\n      // 获取URL中的参数\n      // 创建包含参数的请求体\n      const user = {\n        signPassword: keyword.value,\n        name: username.value,\n        userImage: imageUrl.value,\n        userText: desc.value,\n        password: password.value\n      };\n      isLoading.value = true;\n      // 发送 POST 请求到指定的 URL\n      fetch(\"/api/addUser\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(user)\n      }).then(response => {\n        console.log(response.data);\n        try {\n          show_1.value = true;\n          // 等待3秒后执行路由跳转\n          setTimeout(() => {\n            router.replace(\"/login\");\n          }, 2000);\n        } catch (error) {\n          console.error(\"请求addUser接口失败\", error);\n        }\n      }).catch(error => {\n        console.error(\"请求requireUser接口失败\", error);\n        // 处理请求失败的情况\n      });\n\n      isLoading.value = false;\n    };\n    return {\n      image,\n      show,\n      show_1,\n      show_2,\n      keyword,\n      onClickLeft,\n      username,\n      desc,\n      password,\n      onSubmit,\n      isLoading,\n      fileList,\n      afterRead\n    };\n  }\n};","/* unplugin-vue-components disabled */import { render } from \"./UserAddIndex.vue?vue&type=template&id=77aa0f9d\"\nimport script from \"./UserAddIndex.vue?vue&type=script&lang=js\"\nexport * from \"./UserAddIndex.vue?vue&type=script&lang=js\"\n\nimport \"./UserAddIndex.vue?vue&type=style&index=0&id=77aa0f9d&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_hoisted_1","class","_hoisted_2","style","_hoisted_3","_hoisted_4","_hoisted_5","_","name","content","_hoisted_6","render","_ctx","_cache","$props","$setup","$data","$options","_component_van_nav_bar","_component_van_image","_component_van_icon","_component_van_loading","_component_van_uploader","_component_van_field","_component_van_cell_group","_component_van_button","_component_van_form","_component_van_dialog","title","onClickLeft","width","height","fit","position","src","image","isLoading","key","vertical","icon","size","default","onSubmit","modelValue","fileList","$event","afterRead","inset","keyword","label","placeholder","clearable","username","desc","type","rows","password","round","block","color","show","message","show_1","show_2","setup","myVariable","console","log","value","router","replace","imageUrl","file","status","formData","FormData","append","fetch","method","body","then","response","json","data","catch","error","user","signPassword","userImage","userText","headers","JSON","stringify","setTimeout","__exports__"],"sourceRoot":""}