"use strict";(self["webpackChunkyy2"]=self["webpackChunkyy2"]||[]).push([[45],{6245:function(e,t,o){function r(e){this.message=e}r.prototype=new Error,r.prototype.name="InvalidCharacterError";var n="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new r("'atob' failed: The string to be decoded is not correctly encoded.");for(var o,n,i=0,a=0,l="";n=t.charAt(a++);~n&&(o=i%4?64*o+n:n,i++%4)?l+=String.fromCharCode(255&o>>(-2*i&6)):0)n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(n);return l};function i(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return function(e){return decodeURIComponent(n(e).replace(/(.)/g,(function(e,t){var o=t.charCodeAt(0).toString(16).toUpperCase();return o.length<2&&(o="0"+o),"%"+o})))}(t)}catch(e){return n(t)}}function a(e){this.message=e}function l(e,t){if("string"!=typeof e)throw new a("Invalid token specified");var o=!0===(t=t||{}).header?0:1;try{return JSON.parse(i(e.split(".")[o]))}catch(e){throw new a("Invalid token specified: "+e.message)}}a.prototype=new Error,a.prototype.name="InvalidTokenError",t.Z=l},9764:function(e,t,o){o.r(t),o.d(t,{default:function(){return ae}});var r=o(8521),n=(o(3300),o(2771)),i=(o(2824),o(5601)),a=(o(8001),o(5160)),l=(o(6338),o(6018)),s=(o(9722),o(6907)),c=(o(4746),o(8515)),d=(o(1588),o(5865)),u=(o(9246),o(8480)),m=(o(5590),o(3782)),p=(o(1958),o(368),o(2876)),g=(o(2278),o(1116)),f=(o(8825),o(2495)),h=(o(4150),o(1206)),v=(o(103),o(6233)),w=(o(9840),o(6252)),b=o(3577);const y={class:"content_home"},k={class:"home"},W=["src"],_=(0,w._)("br",null,null,-1),x=(0,w._)("br",null,null,-1),I=(0,w._)("br",null,null,-1),U=(0,w._)("br",null,null,-1),C=(0,w._)("div",{style:{transform:"translate(6px, 0px)"}},[(0,w._)("h1",null,"💰 积分榜")],-1),F={style:{"margin-top":"0px","margin-bottom":"12px",position:"relative",overflow:"hidden",cursor:"grab","background-color":"#fff","box-shadow":"0px 0px 8px rgba(0, 0, 0, 0.025)","border-radius":"10px",width:"96%",transform:"translateX(2%)"}},H={style:{transform:"translate(-3px, -3px)","font-size":"14px"}},j={style:{transform:"translateX(-14px)"}},z={key:0,style:{transform:"translate(calc(96vw - 122px), -13px)",opacity:"0.7"}},L={key:1,style:{transform:"translate(calc(96vw - 128px), -7px)",opacity:"0.7"}},S={style:{transform:"translateY(3px)"}},T=(0,w._)("div",{style:{transform:"translate(12px, 0px)"}},[(0,w._)("h1",null,"🐻 欢迎回来")],-1),P={style:{transform:"translateY(-5px)"}},q={style:{"margin-top":"0px","margin-bottom":"15px",position:"relative",overflow:"hidden",cursor:"grab","background-color":"#fff","box-shadow":"0px 0px 8px rgba(0, 0, 0, 0.025)","border-radius":"10px",width:"96%",transform:"translateX(2%)"}},Z={key:0},D=(0,w._)("br",null,null,-1),X=(0,w._)("div",{style:{display:"flex","justify-content":"center","align-items":"center"}},[(0,w._)("h1",null,"💖感谢您的点赞")],-1),B={style:{display:"flex","justify-content":"center","align-items":"center"}},E={class:"circle-wrapper"},O=["src"],$=(0,w._)("link",{rel:"stylesheet",href:"https://fonts.googleapis.com/css?family=Ma+Shan+Zheng"},null,-1);function V(e,t,o,V,Y,N){const A=v.j,M=h.oF,Q=f.P8,R=g.gb,K=p.Vq,G=m.Ct,J=u.Ee,ee=d.Vp,te=c.Zb,oe=s.zx,re=l.Q1,ne=a.bL,ie=i.kF,ae=n.QP,le=r.Er;return(0,w.wg)(),(0,w.iD)(w.HY,null,[(0,w._)("div",y,[(0,w._)("div",k,[(0,w.Wm)(Q,{color:"#333333",background:"#FFB6C1","left-icon":"volume-o",scrollable:!1},{default:(0,w.w5)((()=>[(0,w.Wm)(M,{vertical:"",class:"notice-swipe",autoplay:3e3,touchable:!0,"show-indicators":!1},{default:(0,w.w5)((()=>[((0,w.wg)(!0),(0,w.iD)(w.HY,null,(0,w.Ko)(V.noticeMessages,((e,t)=>((0,w.wg)(),(0,w.j4)(A,{key:t},{default:(0,w.w5)((()=>[(0,w.Uk)((0,b.zw)(e.broadCastText),1)])),_:2},1024)))),128))])),_:1})])),_:1}),(0,w.Wm)(M,{autoplay:3e3,"indicator-color":"#F19290","lazy-render":""},{default:(0,w.w5)((()=>[((0,w.wg)(!0),(0,w.iD)(w.HY,null,(0,w.Ko)(V.images,(e=>((0,w.wg)(),(0,w.j4)(A,{key:e},{default:(0,w.w5)((()=>[(0,w._)("img",{src:e,style:{width:"100%",height:"62.5vw"}},null,8,W)])),_:2},1024)))),128))])),_:1}),(0,w.Wm)(K,{show:V.show_2,"onUpdate:show":t[0]||(t[0]=e=>V.show_2=e),"show-cancel-button":!1,"show-confirm-button":!1,width:"50vw"},{default:(0,w.w5)((()=>[_,x,(0,w.Wm)(R,{size:"10vw",vertical:"","text-size":"4vw",color:"#f19290"},{default:(0,w.w5)((()=>[(0,w.Uk)("🚀拼命加载中...")])),_:1}),I,U])),_:1},8,["show"]),C,((0,w.wg)(!0),(0,w.iD)(w.HY,null,(0,w.Ko)(V.userList,((e,o)=>((0,w.wg)(),(0,w.iD)("div",{key:o},[(0,w._)("div",F,[(0,w.Wm)(re,null,{right:(0,w.w5)((()=>[(0,w.Wm)(oe,{square:"",icon:"thumb-circle-o",color:"#F19290",class:"require-button",onClick:t[1]||(t[1]=e=>V.goodItem())})])),default:(0,w.w5)((()=>[(0,w.Wm)(te,{price:V.formatNumber(e.credit),currency:"💰",title:`${e.name}积分`,desc:e.userText.substring(0,10),class:"goods-card",thumb:e.userImage,onClick:t=>V.disPlay(e.nameId)},{price:(0,w.w5)((()=>[(0,w._)("div",H," 💰"+(0,b.zw)(V.formatNumber(e.credit)),1)])),tag:(0,w.w5)((()=>[(0,w._)("div",j,[(0,w.Wm)(G,{color:"#F19290",content:o+1},null,8,["content"])]),e.nameId%2==1?((0,w.wg)(),(0,w.iD)("div",z,[(0,w.Wm)(J,{src:V.imageUrl1,width:"103",height:"105"},null,8,["src"])])):((0,w.wg)(),(0,w.iD)("div",L,[(0,w.Wm)(J,{src:V.imageUrl2,width:"103",height:"80"},null,8,["src"])]))])),tags:(0,w.w5)((()=>[(0,w._)("div",S,[(0,w.Wm)(ee,{plain:"",color:"#F19290"},{default:(0,w.w5)((()=>[(0,w.Uk)((0,b.zw)(e.name),1)])),_:2},1024),(0,w.Wm)(ee,{plain:"",color:"#F19290"},{default:(0,w.w5)((()=>[(0,w.Uk)("宝宝")])),_:1})])])),_:2},1032,["price","title","desc","thumb","onClick"])])),_:2},1024)])])))),128)),T,(0,w._)("div",P,[(0,w._)("div",q,[null!=V.userList&&V.userList.length>=2?((0,w.wg)(),(0,w.iD)("div",Z,[(0,w.Wm)(re,null,{default:(0,w.w5)((()=>[(0,w.Wm)(ne,{border:!1,class:"goods-card",onClick:t[2]||(t[2]=e=>V.goodItem())},{title:(0,w.w5)((()=>[(0,w.Uk)(" 🧸欢迎！"+(0,b.zw)(V.userList[0].name)+"宝贝和"+(0,b.zw)(V.userList[1].name)+"宝贝！ ",1)])),_:1})])),_:1})])):(0,w.kq)("",!0)])]),D,(0,w.Wm)(K,{show:V.show,"onUpdate:show":t[3]||(t[3]=e=>V.show=e),"close-on-click-overlay":!0,"show-cancel-button":!1,"show-confirm-button":!1,width:e.picturewidth},{default:(0,w.w5)((()=>[X,(0,w._)("div",B,[(0,w.Wm)(J,{width:"100vw",height:"100vw",position:"center",fit:"cover",src:V.image},null,8,["src"])])])),_:1},8,["show","width"]),(0,w.Wm)(ie,{right:"83vw",bottom:"10vh"})]),(0,w.Wm)(le,{modelValue:V.active,"onUpdate:modelValue":t[4]||(t[4]=e=>V.active=e),"active-color":"#F19290"},{default:(0,w.w5)((()=>[(0,w.Wm)(ae,{replace:"",to:"/Task",icon:"coupon-o"},{default:(0,w.w5)((()=>[(0,w.Uk)("任务")])),_:1}),(0,w.Wm)(ae,{replace:"",to:"/Produce",icon:"shop-collect-o"},{default:(0,w.w5)((()=>[(0,w.Uk)("商城")])),_:1}),(0,w._)("div",E,[(0,w.Wm)(ae,{replace:"",to:"/"},{icon:(0,w.w5)((e=>[(0,w._)("img",{class:"homeIcon",src:e.active?V.icon.active:V.icon.inactive},null,8,O)])),_:1})]),(0,w.Wm)(ae,{replace:"",to:"/Room",icon:"cart-o"},{default:(0,w.w5)((()=>[(0,w.Uk)("仓库")])),_:1}),(0,w.Wm)(ae,{replace:"",to:"/User",icon:"user-o"},{default:(0,w.w5)((()=>[(0,w.Uk)("我的")])),_:1})])),_:1},8,["modelValue"])]),$],64)}var Y=o(2262),N=o(2119),A=o(6154),M=o(6245),Q=o(1407),R=o(2367),K=o(5653),G=o(6869),J=o.p+"img/home4.98f706d3.jpg",ee=o.p+"img/home3.fafed95a.jpg",te=o(2914),oe=o(3833),re={setup(){const e={active:te,inactive:oe},t=[J],o=[ee],r=[Q],n=(0,Y.iH)(""),i=(0,Y.iH)(!1),a=(0,Y.iH)(!1),l=(0,Y.iH)(!0),s=(0,N.tv)(),c=(0,Y.iH)(2),d=[R,K,G],u=(0,Y.iH)([]);(0,w.bv)((()=>{f(),h()}));const m=localStorage.getItem("jwtToken");m||s.replace("/login");const p={Authorization:`Bearer ${m}`};let g="";const f=()=>{A.Z.post("/api/loginToken?token="+m).then((e=>{if(0==e.data.code)return console.error(e.data.data),void s.replace("/login");console.log(e.data.data);const t=(0,M.Z)(m);g=t.id})).catch((e=>{localStorage.removeItem("jwtToken"),s.replace("/login"),console.error("请求loginToken接口失败",e)}))},h=()=>{console.log("Before fetching data. userList:",u.value),A.Z.get("/api/user",{headers:p}).then((e=>{u.value=e.data.data,console.log("Data fetched successfully. userList:",u.value)})).catch((e=>{console.error("Failed to fetch data:",e)})),A.Z.get("/api/findAllBroadcast",{headers:p}).then((e=>{n.value=e.data.data,l.value=!1})).catch((e=>{console.error("Failed to fetch data:",e)}))},v=e=>{s.replace(`/HomeUserDisplay/${e}`)},b=e=>{if(g==e.nameId){const t=e.nameId;l.value=!0,y(t)}else a.value=!0},y=e=>{s.replace(`/UserRequire/${e}`),l.value=!1},k=()=>{i.value=!0},W=e=>null===e||void 0===e?"":e.toFixed(2);return{formatNumber:W,imageUrl1:t,imageUrl2:o,icon:e,image:r,disPlay:v,show:i,show_1:a,token:m,show_2:l,userList:u,active:c,images:d,goodItem:k,requireItem:b,noticeMessages:n}}},ne=o(3744);const ie=(0,ne.Z)(re,[["render",V]]);var ae=ie},2367:function(e,t,o){e.exports=o.p+"img/home1.148f813b.jpg"},5653:function(e,t,o){e.exports=o.p+"img/home2.9690cc37.jpg"},6869:function(e,t,o){e.exports=o.p+"img/home3.3e9909f1.jpg"},2914:function(e,t,o){e.exports=o.p+"img/HomeIconColor.edbf1c03.jpg"},3833:function(e,t,o){e.exports=o.p+"img/HomeIconGrey.94dd5e26.jpg"},1407:function(e,t,o){e.exports=o.p+"img/3.29ea4270.gif"},8515:function(e,t,o){o.d(t,{Zb:function(){return g}});var r=o(458),n=o(6252),i=o(4719),a=o(8443),l=o(293),s=o(5865),c=o(8480);const[d,u]=(0,i["do"])("card"),m={tag:String,num:a.Or,desc:String,thumb:String,title:String,price:a.Or,centered:Boolean,lazyLoad:Boolean,currency:(0,a.SQ)("¥"),thumbLink:String,originPrice:a.Or};var p=(0,n.aZ)({name:d,props:m,emits:["clickThumb"],setup(e,{slots:t,emit:o}){const r=()=>t.title?t.title():e.title?(0,n.Wm)("div",{class:[u("title"),"van-multi-ellipsis--l2"]},[e.title]):void 0,i=()=>{if(t.tag||e.tag)return(0,n.Wm)("div",{class:u("tag")},[t.tag?t.tag():(0,n.Wm)(s.Vp,{mark:!0,type:"primary"},{default:()=>[e.tag]})])},a=()=>t.thumb?t.thumb():(0,n.Wm)(c.Ee,{src:e.thumb,fit:"cover",width:"100%",height:"100%",lazyLoad:e.lazyLoad},null),d=()=>{if(t.thumb||e.thumb)return(0,n.Wm)("a",{href:e.thumbLink,class:u("thumb"),onClick:e=>o("clickThumb",e)},[a(),i()])},m=()=>t.desc?t.desc():e.desc?(0,n.Wm)("div",{class:[u("desc"),"van-ellipsis"]},[e.desc]):void 0,p=()=>{const t=e.price.toString().split(".");return(0,n.Wm)("div",null,[(0,n.Wm)("span",{class:u("price-currency")},[e.currency]),(0,n.Wm)("span",{class:u("price-integer")},[t[0]]),(0,n.Uk)("."),(0,n.Wm)("span",{class:u("price-decimal")},[t[1]])])};return()=>{var o,i,a;const s=t.num||(0,l.Xq)(e.num),c=t.price||(0,l.Xq)(e.price),g=t["origin-price"]||(0,l.Xq)(e.originPrice),f=s||c||g||t.bottom,h=c&&(0,n.Wm)("div",{class:u("price")},[t.price?t.price():p()]),v=g&&(0,n.Wm)("div",{class:u("origin-price")},[t["origin-price"]?t["origin-price"]():`${e.currency} ${e.originPrice}`]),w=s&&(0,n.Wm)("div",{class:u("num")},[t.num?t.num():`x${e.num}`]),b=t.footer&&(0,n.Wm)("div",{class:u("footer")},[t.footer()]),y=f&&(0,n.Wm)("div",{class:u("bottom")},[null==(o=t["price-top"])?void 0:o.call(t),h,v,w,null==(i=t.bottom)?void 0:i.call(t)]);return(0,n.Wm)("div",{class:u()},[(0,n.Wm)("div",{class:u("header")},[d(),(0,n.Wm)("div",{class:u("content",{centered:e.centered})},[(0,n.Wm)("div",null,[r(),m(),null==(a=t.tags)?void 0:a.call(t)]),y])]),b])}}});const g=(0,r.n)(p)},1588:function(e,t,o){o(1958),o(368),o(6742),o(7179),o(6585)},6338:function(e,t,o){o(1958),o(368),o(6742),o(3094)},5590:function(e,t,o){o(1958),o(368),o(6742),o(7179)},6018:function(e,t,o){o.d(t,{Q1:function(){return b}});var r=o(458),n=o(6252),i=o(2262),a=o(4719),l=o(8443),s=o(293),c=o(6846),d=o(2639),u=o(2521),m=o(590),p=o(4409),g=o(3466);const[f,h]=(0,a["do"])("swipe-cell"),v={name:(0,l.SI)(""),disabled:Boolean,leftWidth:l.Or,rightWidth:l.Or,beforeClose:Function,stopPropagation:Boolean};var w=(0,n.aZ)({name:f,props:v,emits:["open","close","click"],setup(e,{emit:t,slots:o}){let r,a,l;const f=(0,i.iH)(),v=(0,i.iH)(),w=(0,i.iH)(),b=(0,i.qj)({offset:0,dragging:!1}),y=(0,p.o)(),k=e=>e.value?(0,m.EL)(e).width:0,W=(0,n.Fl)((()=>(0,s.Xq)(e.leftWidth)?+e.leftWidth:k(v))),_=(0,n.Fl)((()=>(0,s.Xq)(e.rightWidth)?+e.rightWidth:k(w))),x=o=>{b.offset="left"===o?W.value:-_.value,r||(r=!0,t("open",{name:e.name,position:o}))},I=o=>{b.offset=0,r&&(r=!1,t("close",{name:e.name,position:o}))},U=e=>{const t=Math.abs(b.offset),o=.15,n=r?1-o:o,i="left"===e?W.value:_.value;i&&t>i*n?x(e):I(e)},C=t=>{e.disabled||(l=b.offset,y.start(t))},F=t=>{if(e.disabled)return;const{deltaX:o}=y;if(y.move(t),y.isHorizontal()){a=!0,b.dragging=!0;const n=!r||o.value*l<0;n&&(0,c.PF)(t,e.stopPropagation),b.offset=(0,d.uZ)(o.value+l,-_.value,W.value)}},H=()=>{b.dragging&&(b.dragging=!1,U(b.offset>0?"left":"right"),setTimeout((()=>{a=!1}),0))},j=(o="outside")=>{t("click",o),r&&!a&&(0,u.I)(e.beforeClose,{args:[{name:e.name,position:o}],done:()=>I(o)})},z=(e,t)=>o=>{t&&o.stopPropagation(),j(e)},L=(e,t)=>{const r=o[e];if(r)return(0,n.Wm)("div",{ref:t,class:h(e),onClick:z(e,!0)},[r()])};return(0,g.F)({open:x,close:I}),(0,m.Vd)(f,(()=>j("outside")),{eventName:"touchstart"}),(0,m.OR)("touchmove",F,{target:f}),()=>{var e;const t={transform:`translate3d(${b.offset}px, 0, 0)`,transitionDuration:b.dragging?"0s":".6s"};return(0,n.Wm)("div",{ref:f,class:h(),onClick:z("cell",a),onTouchstartPassive:C,onTouchend:H,onTouchcancel:H},[(0,n.Wm)("div",{class:h("wrapper"),style:t},[L("left",v),null==(e=o.default)?void 0:e.call(o),L("right",w)])])}}});const b=(0,r.n)(w)},9722:function(e,t,o){o(1958)},9246:function(e,t,o){o(1958),o(368),o(6742),o(6585)}}]);
//# sourceMappingURL=45.3ed00fd9.js.map